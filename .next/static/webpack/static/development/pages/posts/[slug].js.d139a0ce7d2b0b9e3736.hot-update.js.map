{"version":3,"file":"static/webpack/static/development/pages/posts/[slug].js.d139a0ce7d2b0b9e3736.hot-update.js","sources":["webpack:///./pages/posts/[slug].js"],"sourcesContent":["import { useRouter } from 'next/router'\nimport Head from 'next/head'\nimport ErrorPage from 'next/error'\nimport Container from '../../components/container'\nimport PostBody from '../../components/post-body'\nimport MoreStories from '../../components/more-stories'\nimport Header from '../../components/header'\nimport PostHeader from '../../components/post-header'\nimport SectionSeparator from '../../components/section-separator'\nimport Layout from '../../components/layout'\nimport { getAllPostsWithSlug, getPostAndMorePosts } from '../../lib/api'\nimport PostTitle from '../../components/post-title'\nimport { CMS_NAME } from '../../lib/constants'\n\nexport default function Post({ post, morePosts, preview }) {\n  const router = useRouter()\n  console.log(router, post, _meta, uid)\n  if (!router.isFallback && !post?._meta?.uid) {\n    return <ErrorPage statusCode={404} />\n  }\n\n  return (\n    <Layout preview={preview}>\n      <Container>\n        <Header />\n        {router.isFallback ? (\n          <PostTitle>Loadingâ€¦</PostTitle>\n        ) : (\n          <>\n            <article>\n              <Head>\n                <title>\n                  {post.title[0].text} | Next.js Blog Example with {CMS_NAME}\n                </title>\n                <meta property=\"og:image\" content={post.coverimage.url} />\n              </Head>\n              <PostHeader\n                title={post.title}\n                coverImage={post.coverimage}\n                date={post.date}\n                author={post.author}\n              />\n              <PostBody content={post.content} />\n            </article>\n            <SectionSeparator />\n            {morePosts && morePosts.length > 0 && (\n              <MoreStories posts={morePosts} />\n            )}\n          </>\n        )}\n      </Container>\n    </Layout>\n  )\n}\n\nexport async function getStaticProps({ params, preview = false, previewData }) {\n  const data = await getPostAndMorePosts(params.slug, previewData)\n\n  return {\n    props: {\n      preview,\n      post: data?.post ?? null,\n      morePosts: data?.morePosts ?? [],\n    },\n  }\n}\n\nexport async function getStaticPaths() {\n  const allPosts = await getAllPostsWithSlug()\n  return {\n    paths: allPosts?.map(({ node }) => `/posts/${node._meta.uid}`) || [],\n    fallback: true,\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;;;;A","sourceRoot":""}